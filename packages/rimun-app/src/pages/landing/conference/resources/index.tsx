import Spinner from "src/components/status/Spinner";
import { CDN_ENDPOINT } from "src/config";
import { ResourcesRouterOutputs, trpc } from "src/trpc";
import "./index.scss";

export default function LandingConferenceResources() {
  const { data, isLoading } = trpc.resources.getDocuments.useQuery();

  if (!data || isLoading) return <Spinner />;

  return (
    <div id="resources">
      <div className="hero">
        <div className="hero__overlay" />
        <div className="hero__title">Resources and Documents</div>
        <div className="hero__description">
          Here you can find useful resources, documents, and forms that can help
          you prepare for the Conference. This page is frequently updated by our
          team.
        </div>
      </div>
      <div v-if="!loading" className="container">
        <div id="resources">
          {data.map((d) => (
            <ResourceItem key={d.id} resourceData={d} />
          ))}
        </div>
      </div>
    </div>
  );
}

interface ResourceItemProps {
  resourceData: ResourcesRouterOutputs["getDocuments"][0];
}

function ResourceItem(props: ResourceItemProps) {
  return (
    <div className="resource">
      <div className="resource__info">
        <div className="resource__info__icon">
          {props.resourceData.path.includes("doc") ? (
            <svg
              fill="#005DA6"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 48 48"
            >
              <path d="M47.988 21.94c-.006-.091-.023-.179-.054-.266-.011-.032-.019-.063-.033-.094-.048-.103-.108-.199-.191-.283-.001-.002-.002-.003-.004-.005L42 15.586V10c0-.021-.011-.04-.012-.061-.006-.089-.023-.175-.052-.259-.011-.032-.019-.062-.033-.093-.049-.106-.11-.207-.196-.293l-9-9c-.085-.085-.186-.146-.291-.195-.032-.015-.065-.024-.099-.035-.081-.027-.164-.044-.249-.05C32.044.012 32.023 0 32 0H7c-.553 0-1 .448-1 1v14.586L.294 21.292c-.002.002-.002.003-.004.005-.083.083-.143.18-.191.283-.014.03-.022.062-.033.094-.03.086-.048.174-.054.266-.001.021-.012.039-.012.06v19c0 .552.447 1 1 1h5v5c0 .552.447 1 1 1h34c.553 0 1-.448 1-1v-5h5c.553 0 1-.448 1-1V22c0-.021-.011-.039-.012-.06zM44.586 21H42v-2.586L44.586 21zm-6-12H33V3.414L38.586 9zM8 2h23v8c0 .552.447 1 1 1h8v10H8V2zM6 18.414V21H3.414L6 18.414zM40 46H8v-4h32v4zm6-6H2V23h44v17z" />
              <path d="M14.174 25.964h-3.026V38h3.009c1.553 0 2.729-.524 3.528-1.573.799-1.048 1.198-2.524 1.198-4.428s-.399-3.386-1.198-4.446c-.8-1.059-1.97-1.589-3.511-1.589zm2.473 7.879c-.13.528-.315.967-.553 1.318-.238.351-.521.615-.85.79-.329.176-.686.264-1.071.264h-.969v-8.466h.969c.385 0 .742.088 1.071.263.329.176.612.44.85.791.238.351.422.793.553 1.326.13.533.195 1.156.195 1.87.001.703-.064 1.317-.195 1.844zM33.061 28.854c.204-.397.459-.711.765-.944.306-.232.663-.348 1.071-.348.737 0 1.337.334 1.802 1.003l1.173-1.428c-.329-.476-.754-.841-1.275-1.097-.521-.255-1.128-.382-1.819-.382-.669 0-1.278.156-1.827.467-.55.312-1.017.748-1.403 1.309-.385.562-.683 1.23-.892 2.006-.21.777-.315 1.624-.315 2.542 0 .918.105 1.762.315 2.533.21.771.504 1.436.884 1.997.38.562.844 1.001 1.394 1.318s1.165.476 1.845.476c.748 0 1.368-.147 1.861-.442.493-.295.898-.68 1.215-1.156l-1.173-1.377c-.193.295-.433.544-.722.748s-.632.306-1.028.306c-.419 0-.785-.116-1.097-.349-.312-.232-.569-.546-.773-.943s-.357-.864-.459-1.403c-.102-.538-.153-1.107-.153-1.708 0-.612.051-1.187.153-1.726.101-.538.254-1.005.458-1.402zM27.808 27.392c-.374-.555-.83-.983-1.368-1.284-.538-.3-1.142-.45-1.81-.45-.68 0-1.289.15-1.827.45-.538.301-.994.729-1.368 1.284-.374.555-.657 1.218-.85 1.989s-.289 1.632-.289 2.584.099 1.816.298 2.592c.198.777.485 1.443.858 1.998.374.555.827.986 1.36 1.292.533.306 1.139.459 1.819.459.669 0 1.272-.153 1.81-.459.538-.306.994-.737 1.368-1.292.374-.555.66-1.221.858-1.998.198-.776.298-1.64.298-2.592s-.099-1.813-.298-2.584-.485-1.434-.859-1.989zM26.72 33.69c-.091.539-.229 1.006-.416 1.403-.187.397-.419.708-.697.935-.278.227-.604.34-.978.34s-.7-.113-.978-.34c-.278-.227-.51-.538-.697-.935-.187-.397-.326-.864-.417-1.403-.091-.538-.136-1.113-.136-1.725 0-.612.045-1.187.136-1.726.091-.538.229-1.002.417-1.394.187-.391.419-.699.697-.926.278-.227.604-.34.978-.34.363 0 .683.113.96.34.278.227.51.535.697.926.187.392.329.856.425 1.394.096.539.145 1.114.145 1.726 0 .612-.045 1.187-.136 1.725z" />
            </svg>
          ) : (
            <svg
              fill="#F40F02"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 48 48"
            >
              <path d="M47.987 21.938c-.006-.091-.023-.178-.053-.264-.011-.032-.019-.063-.033-.094-.048-.104-.109-.202-.193-.285l-.001-.001L42 15.586V10c0-.022-.011-.041-.013-.063-.006-.088-.023-.173-.051-.257-.011-.032-.019-.063-.034-.094-.049-.106-.11-.207-.196-.293l-9-9c-.086-.086-.187-.148-.294-.197-.03-.013-.06-.022-.09-.032-.086-.03-.174-.047-.264-.053C32.038.01 32.02 0 32 0H7c-.552 0-1 .448-1 1v14.586L.293 21.293l-.002.002c-.084.084-.144.182-.192.285-.014.031-.022.062-.033.094-.03.086-.048.173-.053.264C.011 21.96 0 21.978 0 22v19c0 .552.448 1 1 1h5v5c0 .552.448 1 1 1h34c.552 0 1-.448 1-1v-5h5c.552 0 1-.448 1-1V22c0-.022-.011-.04-.013-.062zM44.586 21H42v-2.586L44.586 21zm-6-12H33V3.414L38.586 9zM8 2h23v8c0 .552.448 1 1 1h8v10H8V2zM6 18.414V21H3.414L6 18.414zM40 46H8v-4h32v4zm6-6H2V23h44v17z" />
              <path d="M18.254 26.72c-.323-.277-.688-.473-1.097-.586-.408-.113-.805-.17-1.19-.17h-3.332V38h2.006v-4.828h1.428c.419 0 .827-.074 1.224-.221.397-.147.748-.374 1.054-.68.306-.306.552-.688.74-1.148.187-.459.281-.994.281-1.606 0-.68-.105-1.247-.315-1.7-.21-.453-.476-.819-.799-1.097zm-1.283 4.285c-.306.334-.697.501-1.173.501h-1.156v-3.825h1.156c.476 0 .867.147 1.173.442.306.295.459.765.459 1.411s-.153 1.136-.459 1.471zM30.723 38h2.057v-5.168h3.077v-1.751h-3.093V27.8h3.348v-1.836h-5.389zM24.076 25.964H21.05V38h3.009c1.553 0 2.729-.524 3.528-1.572.799-1.049 1.198-2.525 1.198-4.429 0-1.904-.399-3.386-1.198-4.446-.799-1.059-1.969-1.589-3.511-1.589zm2.474 7.879c-.13.528-.315.967-.552 1.318-.238.351-.521.615-.85.79-.329.176-.686.264-1.071.264h-.969v-8.466h.969c.385 0 .742.088 1.071.264.329.175.612.439.85.79.238.351.422.793.552 1.326s.196 1.156.196 1.87c0 .703-.066 1.317-.196 1.844z" />
            </svg>
          )}
        </div>
        <div className="resource__info__name">{props.resourceData.name}</div>
      </div>
      <div className="resource__link">
        <a
          href={`${CDN_ENDPOINT}/${props.resourceData.path}`}
          target="_blank"
          rel="noreferrer"
          className="text-blue-500 hover:underline"
        >
          Download
        </a>
      </div>
    </div>
  );
}
